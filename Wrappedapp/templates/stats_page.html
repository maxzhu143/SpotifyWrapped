{% extends "base.html" %}

{% block content %}
    <h1>Your Spotify Stats</h1>

    <h2>Top Songs</h2>
    {% if top_songs and top_songs.0 != "Looks like you have never listened to any songs." %}
        <ul>
            {% for song in top_songs %}
                <li>{{ song.name }} by {{ song.artists.0.name }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Looks like you have never listened to any songs.</p>
    {% endif %}

    <h2>Top Artists</h2>
    {% if top_artists and top_artists.0 != "Looks like you have never listened to any artists." %}
        <ul>
            {% for artist in top_artists %}
                <li>{{ artist.name }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Looks like you have never listened to any artists.</p>
    {% endif %}

    <h2>Top Genres</h2>
    {% if top_genres and top_genres.0 != "Looks like you have never listened to any genres." %}
        <ul>
            {% for genre, count in top_genres %}
                <li>{{ genre }} ({{ count }} plays)</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Looks like you have never listened to any genres.</p>
    {% endif %}

    <h2>Your Listening Personality</h2>
    {% if personality and personality.0 != "No listening personality data available." %}
        <p>{{ personality|join:", " }}</p>
    {% else %}
        <p>No listening personality data available.</p>
    {% endif %}

    <h2>Sound Town</h2>
    {% if sound_town and sound_town != "No Sound Town available." %}
        <p>{{ sound_town }}</p>
    {% else %}
        <p>No Sound Town available.</p>
    {% endif %}

    <h2>Total Minutes Listened</h2>
    {% if total_minutes_listened != "Looks like you have no listening time recorded." %}
        <p>{{ total_minutes_listened }} minutes</p>
    {% else %}
        <p>Looks like you have no listening time recorded.</p>
    {% endif %}

    <h2>Top Podcasts</h2>
    {% if top_podcasts and top_podcasts.0 != "Looks like you have never listened to any podcasts." %}
        <ul>
            {% for podcast in top_podcasts %}
                <li>{{ podcast.name }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Looks like you have never listened to any podcasts.</p>
    {% endif %}

    <h2>Messages from Your Top Artists</h2>
    {% if artist_messages and artist_messages.Message != "Looks like you have no artist messages." %}
        <ul>
            {% for artist, message in artist_messages.items %}
                <li>{{ message }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Looks like you have no artist messages.</p>
    {% endif %}
{% endblock %}
